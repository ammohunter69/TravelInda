{"ast":null,"code":"import _slicedToArray from\"/home/ironman/Documents/project/Travelindia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/home/ironman/Documents/project/Travelindia/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";// this component show details about all the places in a perticular state\nimport React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{listStateDetails}from\"../redux/stateActions\";import InputLabel from\"@material-ui/core/InputLabel\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import Select from\"@material-ui/core/Select\";import{makeStyles,CircularProgress,Button,Typography}from\"@material-ui/core\";import MuiAlert from\"@material-ui/lab/Alert\";// import { Link } from \"react-router-dom\";\nimport ImageCard from\"./ImageCard\";import categoryData from\"../category/categoryData\";// import useWindowPosition from \"../hook/useWindowPosition\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:_defineProperty({minHeight:\"100vh\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\",alignItems:\"center\"},theme.breakpoints.down(\"md\"),{flexDirection:\"column\"}),control:{display:\"flex\",// position: \"fixed\",\n// flexGrow: 1,\njustifyContent:\"space-between\",padding:\"1px\",color:\"transparent\"},formControl:{minWidth:120,// fontcolor: \"white\",\nbackground:\"#83c5be\",borderRadius:\"3px\",marginTop:\"5rem\"},buttonControl:{marginTop:\"5rem\"},selectEmpty:{marginTop:theme.spacing(2)},dropdown:{// padding: \"3rem\",\n}};});var Places=function Places(_ref){var match=_ref.match;var classes=useStyles();var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];//state variable for category\nvar _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),category=_React$useState2[0],setCategory=_React$useState2[1];//updating category with input value\nvar handleChange=function handleChange(event){setCategory(event.target.value);};//for in transition\nsetTimeout(function(){setTimer(true);},500);var stateDetials;useEffect(function(){//dispatching action to get all place details in a particular state\ndispatch(listStateDetails(match.params.id));},[stateDetials]);// }, [dispatch]);\n//getting all place details from the store\nstateDetials=useSelector(function(state){return state.stateDetials;});var _stateDetials=stateDetials,loading=_stateDetials.loading,error=_stateDetials.error,states=_stateDetials.states;var filteredPlaces;if(!loading){var places=states.places;filteredPlaces=places.filter(function(place){if(category==\"\"){return true;}else if(category!==\"\"&&category==place.category){return true;}});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(Link,{to:\"/states\",style:{color:\"inherit\",textDecoration:\"inherit\"},children:/*#__PURE__*/_jsx(Button,{size:\"large\",variant:\"contained\",color:\"primary\",className:classes.buttonControl,children:\"Go back\"})}),/*#__PURE__*/_jsxs(FormControl,{variant:\"filled\",className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-outlined-label\",children:\"Category\"}),/*#__PURE__*/_jsxs(Select,{value:category,onChange:handleChange,label:\"category\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"All\"})}),categoryData.map(function(data,i){return/*#__PURE__*/_jsx(MenuItem,{value:data,children:data},i);})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:loading?/*#__PURE__*/_jsx(CircularProgress,{}):error?/*#__PURE__*/_jsxs(MuiAlert,{severity:\"error\",children:[error,\"!\"]}):/*#__PURE__*/_jsx(\"div\",{className:classes.root,id:\"places\",children:filteredPlaces.length===0?/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",style:{color:\"white\"},children:\"No data found. Please try another category.\"}):// states.places.map((place) => (\nfilteredPlaces.map(function(place){return/*#__PURE__*/_jsx(ImageCard,{place:place,checked:true,goto:\"PlacesDetails\",stateId:states._id},place._id);})})})]});};export default Places;// return (\n//   <>\n//     <div>\n//       <FormControl variant=\"filled\" className={classes.formControl}>\n//         <InputLabel id=\"demo-simple-select-outlined-label\">\n//           category\n//         </InputLabel>\n//         <Select value={category} onChange={handleChange} label=\"category\">\n//           <MenuItem value=\"\">\n//             <em>None</em>\n//           </MenuItem>\n//           <MenuItem value={\"Sea\"}>Sea</MenuItem>\n//           <MenuItem value={\"Temple\"}>Temple</MenuItem>\n//           <MenuItem value={\"Forrest\"}>Forrest</MenuItem>\n//           <MenuItem value={\"Hill\"}>Hill</MenuItem>\n//           <MenuItem value={\"Valley\"}>Valley</MenuItem>\n//           <MenuItem value={\"Mountain\"}>Mountain</MenuItem>\n//           <MenuItem value={\"Historical\"}>Historical</MenuItem>\n//         </Select>\n//       </FormControl>\n//     </div>\n//     {/* <CardTest /> */}\n//     <div className={classes.root}>\n//       {loading ? (\n//         <CircularProgress />\n//       ) : error ? (\n//         <MuiAlert severity=\"error\">{error}!</MuiAlert>\n//       ) : (\n//         <div className={classes.root} id=\"places\">\n//           {\n//             // states.places.map((place) => (\n//             filteredPlaces.map((place) => (\n//               <ImageCard\n//                 key={place._id}\n//                 place={place}\n//                 checked={true}\n//                 goto={\"PlacesDetails\"}\n//                 stateId={states._id}\n//               />\n//             ))\n//           }\n//         </div>\n//       )}\n//     </div>\n//   </>\n// );","map":{"version":3,"sources":["/home/ironman/Documents/project/Travelindia/frontend/src/components/Places.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","listStateDetails","InputLabel","MenuItem","FormControl","Select","makeStyles","CircularProgress","Button","Typography","MuiAlert","ImageCard","categoryData","useStyles","theme","root","minHeight","display","flexWrap","justifyContent","alignItems","breakpoints","down","flexDirection","control","padding","color","formControl","minWidth","background","borderRadius","marginTop","buttonControl","selectEmpty","spacing","dropdown","Places","match","classes","dispatch","timer","setTimer","category","setCategory","handleChange","event","target","value","setTimeout","stateDetials","params","id","state","loading","error","states","filteredPlaces","places","filter","place","textDecoration","map","data","i","length","_id"],"mappings":"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","sourcesContent":["// this component show details about all the places in a perticular state\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listStateDetails } from \"../redux/stateActions\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport {\n  makeStyles,\n  CircularProgress,\n  Button,\n  Typography,\n} from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n// import { Link } from \"react-router-dom\";\nimport ImageCard from \"./ImageCard\";\nimport categoryData from \"../category/categoryData\";\n// import useWindowPosition from \"../hook/useWindowPosition\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      flexDirection: \"column\",\n    },\n  },\n  control: {\n    display: \"flex\",\n    // position: \"fixed\",\n    // flexGrow: 1,\n    justifyContent: \"space-between\",\n    padding: \"1px\",\n    color: \"transparent\",\n  },\n  formControl: {\n    minWidth: 120,\n    // fontcolor: \"white\",\n    background: \"#83c5be\",\n    borderRadius: \"3px\",\n    marginTop: \"5rem\",\n  },\n  buttonControl: {\n    marginTop: \"5rem\",\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  dropdown: {\n    // padding: \"3rem\",\n  },\n}));\n\nconst Places = ({ match }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [timer, setTimer] = useState(false);\n\n  //state variable for category\n  const [category, setCategory] = React.useState(\"\");\n\n  //updating category with input value\n  const handleChange = (event) => {\n    setCategory(event.target.value);\n  };\n\n  //for in transition\n  setTimeout(() => {\n    setTimer(true);\n  }, 500);\n  let stateDetials;\n\n  useEffect(() => {\n    //dispatching action to get all place details in a particular state\n    dispatch(listStateDetails(match.params.id));\n  }, [stateDetials]);\n  // }, [dispatch]);\n\n  //getting all place details from the store\n  stateDetials = useSelector((state) => state.stateDetials);\n  let { loading, error, states } = stateDetials;\n  let filteredPlaces;\n\n  if (!loading) {\n    let places = states.places;\n    filteredPlaces = places.filter((place) => {\n      if (category == \"\") {\n        return true;\n      } else if (category !== \"\" && category == place.category) {\n        return true;\n      }\n    });\n  }\n\n  return (\n    <>\n      <div className={classes.control}>\n        <Link\n          to={`/states`}\n          style={{ color: \"inherit\", textDecoration: \"inherit\" }}\n        >\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.buttonControl}\n          >\n            Go back\n          </Button>\n        </Link>\n        <FormControl variant=\"filled\" className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-outlined-label\">\n            Category\n          </InputLabel>\n          <Select value={category} onChange={handleChange} label=\"category\">\n            <MenuItem value=\"\">\n              <em>All</em>\n            </MenuItem>\n            {categoryData.map((data, i) => {\n              return (\n                <MenuItem key={i} value={data}>\n                  {data}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        </FormControl>\n      </div>\n\n      {/* <CardTest /> */}\n      <div className={classes.root}>\n        {loading ? (\n          <CircularProgress />\n        ) : error ? (\n          <MuiAlert severity=\"error\">{error}!</MuiAlert>\n        ) : (\n          <div className={classes.root} id=\"places\">\n            {filteredPlaces.length === 0 ? (\n              <Typography gutterBottom variant=\"h5\" style={{ color: \"white\" }}>\n                No data found. Please try another category.\n              </Typography>\n            ) : (\n              // states.places.map((place) => (\n              filteredPlaces.map((place) => (\n                <ImageCard\n                  key={place._id}\n                  place={place}\n                  checked={true}\n                  goto={\"PlacesDetails\"}\n                  stateId={states._id}\n                />\n              ))\n            )}\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Places;\n\n// return (\n//   <>\n//     <div>\n//       <FormControl variant=\"filled\" className={classes.formControl}>\n//         <InputLabel id=\"demo-simple-select-outlined-label\">\n//           category\n//         </InputLabel>\n//         <Select value={category} onChange={handleChange} label=\"category\">\n//           <MenuItem value=\"\">\n//             <em>None</em>\n//           </MenuItem>\n//           <MenuItem value={\"Sea\"}>Sea</MenuItem>\n//           <MenuItem value={\"Temple\"}>Temple</MenuItem>\n//           <MenuItem value={\"Forrest\"}>Forrest</MenuItem>\n//           <MenuItem value={\"Hill\"}>Hill</MenuItem>\n//           <MenuItem value={\"Valley\"}>Valley</MenuItem>\n//           <MenuItem value={\"Mountain\"}>Mountain</MenuItem>\n//           <MenuItem value={\"Historical\"}>Historical</MenuItem>\n//         </Select>\n//       </FormControl>\n//     </div>\n\n//     {/* <CardTest /> */}\n//     <div className={classes.root}>\n//       {loading ? (\n//         <CircularProgress />\n//       ) : error ? (\n//         <MuiAlert severity=\"error\">{error}!</MuiAlert>\n//       ) : (\n//         <div className={classes.root} id=\"places\">\n//           {\n//             // states.places.map((place) => (\n//             filteredPlaces.map((place) => (\n//               <ImageCard\n//                 key={place._id}\n//                 place={place}\n//                 checked={true}\n//                 goto={\"PlacesDetails\"}\n//                 stateId={states._id}\n//               />\n//             ))\n//           }\n//         </div>\n//       )}\n//     </div>\n//   </>\n// );\n"]},"metadata":{},"sourceType":"module"}